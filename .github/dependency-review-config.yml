# Dependency Review configuration
# See: https://docs.github.com/en/code-security/supply-chain-security/understanding-your-software-supply-chain/configuring-dependency-review

# Fail the check if any dependency has a vulnerability with severity >= high
fail-on-severity: high

# Fail the check if any dependency is in the runtime scope and has a disallowed license
fail-on-scopes:
  - runtime

# Block copyleft licenses that could affect commercial use
licenses:
  # Strong copyleft licenses (require derivative works to use same license)
  - license: GPL-2.0
    status: deny
    reason: Strong copyleft - requires derivative works to be GPL-licensed

  - license: GPL-3.0
    status: deny
    reason: Strong copyleft - requires derivative works to be GPL-licensed

  - license: AGPL-3.0
    status: deny
    reason: Network copyleft - requires server-side code to be open-sourced

  # Weak copyleft licenses (require modifications to be shared, but not derivative works)
  - license: LGPL-2.0
    status: deny
    reason: Weak copyleft - requires modifications to library to be shared

  - license: LGPL-2.1
    status: deny
    reason: Weak copyleft - requires modifications to library to be shared

  - license: LGPL-3.0
    status: deny
    reason: Weak copyleft - requires modifications to library to be shared
# Allow permissive licenses
# - MIT
# - Apache-2.0
# - BSD-2-Clause
# - BSD-3-Clause
# - ISC
# - 0BSD
# (These are allowed by default when not explicitly denied)
